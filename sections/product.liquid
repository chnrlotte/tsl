{% comment %}
  This is a sample product page for a single product
{% endcomment %}

{% assign product = all_products['monday-rug'] %}

{% for image in product.images %}
  <img src="{{ image.src | img_url }}" alt="{{ product.title }} - {{ image.alt | escape }}">
{% endfor %}

<img src="{{ product.featured_image | img_url }}" alt="{{ product.title }} - {{ image.alt | escape }}">

{{ product.title }}

{{ product.price | money }}

{{ product.description }}

<!-- product form -->
{% form 'product', product %}
  <!-- form content -->
  <select name="id">
    {% for variant in product.variants %}
      <option
        value="{{ variant.id }}"
        {% if variant == product.selected_or_first_available_variant %}
          selected="selected"
        {% endif %}
      >
        {{ variant.title }} - {{ variant.price | money }}
      </option>
    {% endfor %}
  </select>

  <input type="text" name="quantity" min="1" value="1">

  <input type="submit" value="Add to cart">
  {{ form | payment_button }}
{% endform %}

<product-recommendations
  class="related-products page-width section-{{ section.id }}-padding isolate"
  data-url="{{ routes.product_recommendations_url }}?section_id={{ section.id }}&product_id={{ product.id }}&limit={{ section.settings.products_to_show }}"
>
  {% if recommendations.performed and recommendations.products_count > 0 %}
    <h2 class="related-products__heading {{ section.settings.heading_size }}">
      {{ section.settings.heading }}
    </h2>
    <ul
      class="grid product-grid grid--{{ section.settings.columns_desktop }}-col-desktop grid--{{ section.settings.columns_mobile }}-col-tablet-down"
      role="list"
    >
      {% for recommendation in recommendations.products %}
        <li class="grid__item">
          {% render 'card-product',
            card_product: recommendation,
            media_aspect_ratio: section.settings.image_ratio,
            image_shape: section.settings.image_shape,
            show_secondary_image: section.settings.show_secondary_image,
            show_vendor: section.settings.show_vendor,
            show_rating: section.settings.show_rating
          %}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</product-recommendations>
<!--
  <div class="product">
    <div class="product__image">
      <img src="{{ product.featured_image | img_url: 'large' }}" alt="{{ product.title }}">
    </div>
    <div class="product__info">
      <h1 class="product__title">{{ product.title }}</h1>
      <p class="product__price">{{ product.price | money }}</p>
      <form method="post" action="/cart/add">
        <input type="hidden" name="id" value="{{ product.variants.first.id }}">
        <input type="submit" value="Add to cart">
      </form>
      <div class="product__description">
        {{ product.description }}
      </div>
      <div class="product__details">
        <ul>
          <li>Material: {{ product.metafields.material }}</li>
          <li>Size: {{ product.metafields.size }}</li>
          <li>Color: {{ product.metafields.color }}</li>
        </ul>
      </div>
    </div>
  </div>
-->
